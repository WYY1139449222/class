<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    /* 
        种植 cookie
        cookie 是前端用来保存某些数据的：前后端都能操作
                一般用来存储用户信息  5k左右;

        
        H5新增的两个前端存储数据的API  大小5M左右
            这两个API只能由前端操;
        localStorage
            
        seccionStorage//会话时种植 页面关闭会自动清除

                    getItem('属性名')，setItem(''),removeItem()
                    clear(); // \\全部删除
                            //   \\
                           //     \\
                          //       \\
                         //         \\
        localStorage    //不会自动清除\\
                       //             \\
        seccionStorage//会话时种植页面关 \\闭会自动清除





        getCookie()
        setCookie()
        removeCookie()//把日期设置成过期的时间


        cookie:1、前后端都可以设置
               2、大小只有5k
               3、设置cookie只能自己编写方法
               4、cookie有过期时间
               5、cookie会随着请求发送给后台
        localStorage:1、只能由前端设置
                     2、大小在5M左右
                     3、由现成的方法
                     4、后台无法操作该属性
                     5、没有过期时间
        seccionStorage:页面关闭清除


            埋点  神策







    */

    function getCookie(key){
        let str = document.cookie;
        str+='; '
        let reg = new RegExp(`\\b${key}=([^; ]+); `);
        return str.match(reg)?str.match(reg)[1]:null;
    }
    function setCookie(key,value,date){
        if(date){
            document.cookie = `${key}=${value};expires = ${new Date(date)}`
        }else{
            document.cookie = `${key}=${value}`
        }
       
    }
    function removeCookie(key,domain){
        //domain 指定域名
        if(domain){
            document.cookie = `${key}=null;domain = ${domain};expires = ${new Date(2010)}`
        }
        document.cookie = `${key}=null;expires = ${new Date(2010)}`
    }
</script>